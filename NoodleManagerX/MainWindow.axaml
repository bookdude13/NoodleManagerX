<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:NoodleManagerX"
        mc:Ignorable="d" d:DesignWidth="950" d:DesignHeight="600"
        Width="950" Height="600"
        Background="#1a1b1f"
        x:Class="NoodleManagerX.MainWindow"
        HasSystemDecorations="False"
        Icon="resm:NoodleManagerX.Assets.icon-nm.ico"
        Title="NoodleManagerX">

  <Window.Resources>
    <local:EqualsConverter x:Key="EqualsConverter"/>
    <local:TabHilightConverter x:Key="TabHilightConverter"/>

    <SolidColorBrush x:Key = "ComboBoxSelected" Color = "#661890" />
    <SolidColorBrush x:Key = "ComboBoxPointerover" Color = "#bd055e" />
  </Window.Resources>

  <Window.Styles>
    <!--Make a button without animations-->
    <Style Selector="Button.BlankButton">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
    </Style>
    <Style Selector="Button.BlankButton ContentPresenter">
      <Setter Property="Background" Value="Transparent"/>
    </Style>

    <!--Make a combobox without animations-->
    <Style Selector="ComboBox.BlankBox">
      <Setter Property="BorderThickness" Value="0"/>
    </Style>
    <Style Selector="ComboBox.BlankBox ToggleButton ContentPresenter">
      <Setter Property="Background" Value="Transparent"/>
    </Style>
    <Style Selector="ComboBox.BlankBox ComboBoxItem:selected ContentPresenter">
      <Setter Property="Background" Value="{StaticResource ComboBoxSelected}"/>
    </Style>
    <Style Selector="ComboBox.BlankBox ComboBoxItem:pointerover ContentPresenter">
      <Setter Property="Background" Value="{StaticResource ComboBoxPointerover}"/>
    </Style>

    <!--Special style for the tab header-->
    <Style Selector="Button.Tab">
      <Setter Property="VerticalAlignment" Value="Center"/>
      <Setter Property="Margin" Value="10,0,10,0"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="FontSize" Value="20"/>
      <Setter Property="ClickMode" Value="1"/>
    </Style>

    <!--Style for minimize, maximize, close-->
    <Style Selector="Button.WControls">
      <Setter Property="VerticalAlignment" Value="Top"/>
      <Setter Property="Height" Value="20"/>
      <Setter Property="Padding" Value="0"/>
    </Style>

  </Window.Styles>


  <StackPanel>
    <Grid Height="70" Background="Black" Name="BlackBar">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
      </Grid.ColumnDefinitions>

      <Image Source="resm:NoodleManagerX.Assets.NoodleManagerLogo.png" Grid.Column="0" Margin="12,12,20,12"/>


      <!--Tab header buttons-->
      <Button Grid.Column="1" Classes="BlankButton Tab" Content="MAPS" Command="{Binding TabSelectCommand}" CommandParameter="0"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=0}"/>
      <Button Grid.Column="2" Classes="BlankButton Tab" Content="PLAYLISTS" Command="{Binding TabSelectCommand}" CommandParameter="1"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=1}"/>
      <Button Grid.Column="3" Classes="BlankButton Tab" Content="STAGES" Command="{Binding TabSelectCommand}" CommandParameter="2"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=2}"/>
      <Button Grid.Column="4" Classes="BlankButton Tab" Content="AVATARS" Command="{Binding TabSelectCommand}" CommandParameter="3"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=3}"/>
      <Button Grid.Column="5" Classes="BlankButton Tab" Content="MODS" Command="{Binding TabSelectCommand}" CommandParameter="4"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=4}"/>
      <Button Grid.Column="6" Classes="BlankButton Tab" Content="TOOLS" Command="{Binding TabSelectCommand}" CommandParameter="5"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=5}"/>
      <Button Grid.Column="7" Classes="BlankButton Tab" Content="SETTINGS" Command="{Binding TabSelectCommand}" CommandParameter="6"
              Foreground="{Binding Path=SelectedTabIndex, Converter={StaticResource TabHilightConverter}, ConverterParameter=6}"/>


      <!--Minimize, maximize and close-->
      <Button Grid.Column="9" Classes="BlankButton WControls"  Margin="3,5,3,0" Command="{Binding MinimizeCommand}">
        <Image Source="resm:NoodleManagerX.Assets.minimize.png"/>
      </Button>
      <Button Grid.Column="10" Classes="BlankButton WControls" Margin="3,5,3,0" Command="{Binding ToggleFullscreenCommand}">
        <Image Source="resm:NoodleManagerX.Assets.fullscreen.png"/>
      </Button>
      <Button Grid.Column="11" Classes="BlankButton WControls" Margin="3,5,6,0" Command="{Binding CloseCommand}">
        <Image Source="resm:NoodleManagerX.Assets.close.png"/>
      </Button>
    </Grid>

    <!--Control Header-->
    <Grid Height="50" Background="DarkBlue" IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=0-1-2-3-4}">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="136"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="50"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="50"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="auto"/>
        <ColumnDefinition Width="20"/>
      </Grid.ColumnDefinitions>

      <!--Search-->
      <StackPanel Grid.Column="1" VerticalAlignment="Center">
        <TextBox Watermark="Search" Width="200" FontSize="15" Margin="0,0,6,0" VerticalAlignment="Center" Background="Transparent" BorderThickness="0" CaretBrush="#ffffff"/>
        <Image Source="resm:NoodleManagerX.Assets.searchbar.png" Height="2" Width="200" Stretch="Fill"/>
      </StackPanel>
      <Image Grid.Column="2" Source="resm:NoodleManagerX.Assets.search.png" Height="22"/>

      <!--Filter-->
      <ComboBox Grid.Column="4" Classes="BlankBox" Width="95" SelectedIndex="0">
        <ComboBoxItem>Upload Date</ComboBoxItem>
        <ComboBoxItem>Hypefactor</ComboBoxItem>
        <ComboBoxItem>Downloads</ComboBoxItem>
        <ComboBoxItem>Rating</ComboBoxItem>
        <ComboBoxItem IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=0}">Difficulty</ComboBoxItem>
      </ComboBox>
      <ComboBox Grid.Column="5" Classes="BlankBox" Width="50" SelectedIndex="0">
        <ComboBoxItem>DSC</ComboBoxItem>
        <ComboBoxItem>ASC</ComboBoxItem>
      </ComboBox>

      <!--Selection-->
      <TextBlock Grid.Column="7" VerticalAlignment="Center" Text="Select All" Margin="0,0,8,0"/>
      <TextBlock Grid.Column="8" VerticalAlignment="Center" Text="Get Selected" Margin="8,0,0,0"/>
      
      <!--Pagination-->
      <Button Grid.Column="10" Classes="BlankButton" Content="&lt;">
        <TextBlock Text="&lt;" FontSize="30" Margin="0,-3,0,0"/>
      </Button>
      <TextBlock Grid.Column="11" VerticalAlignment="Center" Text="1/12"/>
      <Button Grid.Column="12" Classes="BlankButton">
        <TextBlock Text="&gt;" FontSize="30" Margin="0,-3,0,0"/>
      </Button>
    </Grid>

    <!--This is where the tab content begins-->
    <StackPanel Margin="0,0,0,10">
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=0}">
        <TextBlock Text="These are the maps"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=1}">
        <TextBlock Text="These are the playlists"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=2}">
        <TextBlock Text="These are the stages"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=3}">
        <TextBlock Text="These are the avatars"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=4}">
        <TextBlock Text="These are the mods"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=5}">
        <TextBlock Text="These are the tools (Get All, Send Favorites to Quest, Download Songs from Playlist, Setup Twitch Integration)"/>
      </Carousel>
      <Carousel IsVisible="{Binding Path=SelectedTabIndex, Converter={StaticResource EqualsConverter}, ConverterParameter=6}">
        <TextBlock Text="These are the settings (Path, Auto Download Playlists, Quest Mode (local, quest, both), Auto Update Content, Disable NM Update Notification"/>
      </Carousel>
    </StackPanel>
  </StackPanel>
</Window>

